=== Ubuntu 25.04 et le conflit Podman âš ï¸

**ProblÃ¨me :** Ubuntu 25.04+ est livrÃ© avec Podman par dÃ©faut

**SymptÃ´me :** `Cannot connect to the Docker daemon`

[.small]
âš ï¸ Conflit entre `/var/run/docker.sock` et `/run/podman/podman.sock`

[.columns]
=== Solutions au conflit

[.column]
--
**Solution 1 : Variable DOCKER_HOST**

[source,bash]
----
export DOCKER_HOST=unix:///var/run/docker.sock
----

[.small]
Permanent : Ajouter Ã  `~/.bashrc`
--

[.column]
--
**Solution 2 : DÃ©sinstaller Podman** âœ…

[source,bash]
----
sudo apt remove podman
sudo apt install docker.io
----

[.small]
âš ï¸ Logout/login requis
--

=== Environnement prÃªt ! âœ…

Votre environnement Docker est maintenant configurÃ© ğŸ‰

[.small]
* âœ… GitHub Codespaces : Docker dÃ©jÃ  installÃ©
* âœ… Ubuntu 25.04 : Conflit Podman rÃ©solu
* âœ… PrÃªt pour la suite !

=== Prochaine Ã©tape ğŸš€

Avant de dÃ©couvrir Docker, un dÃ©tour essentiel...

[%step]
**La ligne de commande (CLI)**

[%step]
[.small]
Docker s'utilise exclusivement en ligne de commande !

=== Pourquoi la CLI ? ğŸ’»

[%step]
* ğŸ–¥ï¸ Interface fondamentale pour Docker
[%step]
* ğŸ”§ Base de tous les outils DevOps
[%step]
* ğŸ’ª CompÃ©tence indispensable pour automatiser

[%step]
[.small]
â¡ï¸ **Prochain chapitre :** Guide de survie de la ligne de commande

[.notes]
--
**CONTEXTE - UBUNTU 25.04 ET PODMAN :**

Ubuntu 25.04 (Noble Numbat) marque un changement majeur : Podman devient le moteur de conteneurs par dÃ©faut Ã  la place de Docker.

**Pourquoi ce changement ?**
- Podman est "daemonless" (pas de daemon en root)
- Mieux intÃ©grÃ© avec systemd
- Compatible OCI (Open Container Initiative)
- Plus sÃ©curisÃ© par dÃ©faut (rootless)

**Le conflit :**
- Podman crÃ©e un socket `/run/podman/podman.sock` (ou rootless: `/run/user/$UID/podman/podman.sock`)
- Docker cherche `/var/run/docker.sock`
- Si les deux sont installÃ©s : confusion entre les sockets

**Solution 1 - DOCKER_HOST :**
âœ… Rapide, non-destructif
âœ… Permet de garder Podman installÃ©
âŒ Doit Ãªtre configurÃ© pour chaque session/utilisateur
âŒ Peut causer confusion si oubliÃ©

**Solution 2 - DÃ©sinstaller Podman :**
âœ… Solution propre et dÃ©finitive
âœ… Pas de configuration supplÃ©mentaire
âœ… RecommandÃ© pour un cours Docker
âŒ Supprime Podman si vous en avez besoin

**Pour le TP :**
- Recommander Solution 2 si les Ã©tudiants ne connaissent pas Podman
- Solution 1 acceptable pour tests rapides
- Dans GitHub Codespaces : aucun problÃ¨me, Docker prÃ©configurÃ©

**Alternative bonus - Podman :**
Si vous voulez enseigner Podman au lieu de Docker :
[source,bash]
----
alias docker=podman
----
Podman est compatible avec la CLI Docker !

**MESSAGE CLÃ‰ :**
"Ubuntu 25.04 privilÃ©gie Podman, mais pour ce cours Docker, choisissez une solution claire : soit Docker seul, soit Podman avec alias. Ã‰vitez d'avoir les deux installÃ©s simultanÃ©ment sans configuration."
--
