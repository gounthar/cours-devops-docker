[{invert}]
== Projet de fin de module

[.title]
**DEVOPS M2 ILI - Ann√©e 2025-2026**

=== Vue d'ensemble

* Projet en **bin√¥me**
* Deux parties : **Infrastructure + CI/CD**
* Note finale : **/20**

[{invert}]
== Modalit√©s

[.title]
**Organisation du projet**

[{invert}]
=== Bin√¥me

* Projet en **bin√¥me** obligatoire
* Choix de technologies via **vote Moodle**

[{invert}]
=== GitLab

* Repository GitLab **priv√©**
* Enseignants ajout√©s en **maintainers**
* Documentation dans le **README.md**

[{invert}]
=== Deadline

[.title]
**4 janvier 2026**

Seuls les commits avant cette date seront corrig√©s

[{invert}]
== Reverse-Proxy

**Choisir 1 parmi :**

* Apache HTTPd
* Nginx
* Nginx Unit
* HAProxy
* Traefik
* Caddy

[{invert}]
== Serveur d'Application

**Choisir 1 parmi :**

* Tomcat
* Wildfly
* Jetty

[{invert}]
== Partie 1 : Infrastructure

[.title]
**Not√©e sur 10 points**

Crit√®res principaux + Compl√©ments valoris√©s

[{invert}]
== Architecture cible

image::exam-architecture-diagram.png[Architecture, 800]

[{invert}]
== Architecture : Vue d'ensemble

* Architecture **production-ready** conteneuris√©e
* Support application Java EE
* Stack compl√®te : Reverse Proxy + App Server + Database + ELK
* D√©marrage : `docker compose up -d`

[{invert}]
== Exigences fonctionnelles

[.title]
**Partie obligatoire**

[{invert}]
== 1. Architecture multi-tiers

* **Reverse-proxy** : load-balancing si plusieurs instances
* **Serveur d'app** : WAR Java EE correctement configur√©
* **Base de donn√©es** : PostgreSQL ou MySQL, donn√©es persistantes
* **Stack ELK** : Elasticsearch + Logstash + Kibana

[{invert}]
== 2. Docker Compose

* Fichier `compose.yml` bien structur√©
* Variables dans `.env` (`.env.example` committ√©)
* Networks : isolation des services
* Volumes **nomm√©s** pour la persistance

[{invert}]
== 3. Images Docker

* **Multi-stage builds** quand pertinent
* Taille : < 500 MB (app), < 200 MB (services)
* `.dockerignore` bien configur√©
* **Pas de secrets** dans les images

[{invert}]
== 4. Health checks

* Health checks sur **tous** les services
* Restart policies : `on-failure` ou `unless-stopped`
* `depends_on` avec `condition: service_healthy`
* Temps de d√©marrage total < 2 minutes

[{invert}]
== 5. Resources & Logging

* **Limites CPU/m√©moire** sur chaque service
* Logs au format **JSON** quand possible
* Int√©gration **Logstash** ‚Üí **Kibana**
* Dashboards de base exploitables

[{invert}]
== 6. S√©curit√©

* Conteneurs avec `USER` **non-root**
* Secrets : Docker secrets ou env vars (jamais en clair)
* **Trivy** : scanning de vuln√©rabilit√©s

[{invert}]
== 7. Documentation

**README.md complet :**

* Architecture (sch√©ma + explications)
* Pr√©requis, installation, configuration
* Utilisation et troubleshooting
* **Justifications** des choix techniques

[{invert}]
== Grille d'√©valuation Partie 1

[cols="2,1"]
|===
|Crit√®re |Points

|Architecture fonctionnelle |3 pts
|Qualit√© technique |3 pts
|Documentation |2 pts
|Bonnes pratiques |2 pts
|**Total** |**10 pts**
|===

[{invert}]
== Compl√©ments valoris√©s

[.title]
**Permettent de compenser et d'atteindre 10/10**

[{invert}]
== R√¥le des compl√©ments

* **Fonction** : Compenser les points manquants
* **Formule** : Note = min(10, Crit√®res + Compl√©ments)
* **Objectif** : Atteindre 10/10

[{invert}]
== Strat√©gie recommand√©e

**Qualit√© > Quantit√©**

* 1-2 compl√©ments **de qualit√©**
* Mieux que 4 compl√©ments **b√¢cl√©s**
* Choisissez ce qui vous **int√©resse** !

[{invert}]
== Compl√©ment 1 : Observabilit√© (+1 pt)

**Prometheus + Grafana**

* Stack de monitoring moderne
* M√©triques temps r√©el

[{invert}]
== Observabilit√© : D√©tails

* Prometheus pour collecter
* Grafana pour visualiser
* M√©triques custom via **Micrometer**

[{invert}]
== Observabilit√© : Livrables

* **2 dashboards Grafana** (syst√®me + applicatif)
* **1 alerte** Prometheus minimum
* Ressources : cAdvisor, Micrometer

[{invert}]
== Compl√©ment 2 : Pipeline validation (+1 pt)

**Tests automatiques du compose**

* Pipeline CI de validation
* Tests avec **Goss**

[{invert}]
== Pipeline : D√©tails

* Lancer `docker compose up -d`
* V√©rifier sant√© de tous les services
* Tester les endpoints critiques
* G√©n√©rer un rapport de tests

[{invert}]
== Compl√©ment 3 : D√©pendances auto (+0.75 pt)

**Updatecli / Renovate / Dependabot**

* Mise √† jour automatique
* Pull requests auto

[{invert}]
== D√©pendances : Configuration

Surveiller :

* Images Docker de base
* D√©pendances Maven/Gradle
* Versions dans `compose.yml`

[{invert}]
== Compl√©ment 4 : Load Testing (+1 pt)

**k6 ou Gatling**

* Tests de charge
* Optimisations prouv√©es

[{invert}]
== Load Testing : Sc√©narios

* Connexion utilisateur
* Op√©rations CRUD
* Charge progressive

[{invert}]
== Load Testing : Rapport

* Throughput (req/s)
* Latence (p50, p95, p99)
* Taux d'erreur
* **Avant/apr√®s** optimisations

[{invert}]
== Compl√©ment 5 : Haute disponibilit√© (+1 pt)

**Plusieurs instances + Load balancing**

* Au moins 2 instances d'app
* Zero-downtime deployment

[{invert}]
== HA : D√©monstration

* Multiple instances serveur d'app
* Load balancing sur reverse-proxy
* Script de rolling deployment
* Aucune requ√™te en erreur

[{invert}]
== Compl√©ment 6 : Multi-environnements (+0.75 pt)

**Dev / Staging / Prod**

* 3 configurations
* Compose overrides

[{invert}]
== Multi-env : Fichiers

* `compose.yml` (base commune)
* `compose.override.yml` (dev)
* `compose.prod.yml` (prod)
* `.env.dev`, `.env.staging`, `.env.prod`

[{invert}]
== Communication

[.title]
**Bonnes pratiques**

[{invert}]
== Workflow : Merge Requests

[quote]
____
"Faites des **Merge Requests** et **mettez-moi en reviewer**.

Commit direct sur `main` ‚Üí je ne suis pas notifi√© !"
____

[{invert}]
== Ce qu'on attend

* Communication via **MR et issues**
* **Commits atomiques** (conventional commits)
* Documentation **√† jour** au fur et √† mesure
* Tests **avant** de merge
* **Demander de l'aide** si besoin !

[{invert}]
== Conseils pratiques

[.title]
**Par o√π commencer ?**

[{invert}]
== 1. Choisir les technologies

* Vote Moodle
* Cr√©er le repo GitLab

[{invert}]
== 2. Partie 1 - It√©ratif

* Docker Compose basique qui marche
* Puis health checks
* Puis optimisations
* Compl√©ments si temps disponible

[{invert}]
== 3. Documentation

* **Au fur et √† mesure**
* Pas √† la fin !

[{invert}]
== Ressources

* https://docs.docker.com/[Docker officiel]
* https://github.com/docker/awesome-compose[Compose samples]
* **Votre cours** : tout est dedans !

[{invert}]
== IA : OK pour apprendre

* **ChatGPT/Claude** : OK pour comprendre

[WARNING]
====
**Pas de plagiat !** On reconna√Æt le code IA.

Utilisez pour **apprendre**, pas pour **√©viter de r√©fl√©chir**.
====

[{invert}]
== Erreurs courantes

* ‚ùå Secrets dans Git (`.env`)
* ‚ùå Images trop grosses
* ‚ùå Pas de health checks
* ‚ùå Volumes anonymes
* ‚ùå Tout en `root`
* ‚ùå Documentation absente

[{invert}]
== Grille d'√©valuation

**Note finale /20**

* Partie 1 : /10
* Partie 2 : /10

[{invert}]
== Crit√®res principaux (10 pts)

[cols="2,1"]
|===
|Crit√®re |Points

|Architecture fonctionnelle |3 pts
|Qualit√© technique |3 pts
|Documentation |2 pts
|Bonnes pratiques |2 pts
|**Total** |**10 pts**
|===

[{invert}]
== Compl√©ments valoris√©s (1/2)

[cols="2,1"]
|===
|Compl√©ment |Points

|Observabilit√© |+1 pt
|Pipeline validation |+1 pt
|D√©pendances auto |+0.75 pt
|Load Testing |+1 pt
|===

[{invert}]
== Compl√©ments valoris√©s (2/2)

[cols="2,1"]
|===
|Compl√©ment |Points

|Haute disponibilit√© |+1 pt
|Multi-environnements |+0.75 pt
|===

[{invert}]
== Calcul de la note

**Formule :** Note = min(10, Crit√®res + Compl√©ments)

* 7/10 crit√®res + 2 pts compl√©ments = **9/10**
* 8/10 crit√®res + 3 pts compl√©ments = **10/10** (plafonn√©)

[{invert}]
== Bon courage ! üöÄ

L'objectif : vous **pr√©parer** √† l'entreprise

Pas vous **pi√©ger** !

**Amusez-vous bien !**
